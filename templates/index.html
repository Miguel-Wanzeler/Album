<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Nosso √Ålbum üíñ</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            background: pink;
            text-align: center;
        }

        .container {
            margin-top: 150px;
        }

        input[type=file], button {
            padding: 10px;
            border-radius: 8px;
            border: none;
        }

        button {
            background: #ff5e8e;
            color: white;
            cursor: pointer;
        }

        /* ---- CARROSSEL ---- */
        #carrossel {
            width: 330px;
            height: 130px;
            margin: auto;
            overflow: hidden;
            position: relative;
            border-radius: 10px;
            background: #ffeaf2;
            padding: 10px;
            box-shadow: 0 0 12px rgba(255, 0, 112, 0.2);
        }

        .nav {
            margin-top: 10px;
        }

        .nav button {
            background: #ff5e8e;
            color: white;
            padding: 6px 14px;
            border-radius: 8px;
            font-family: Arial;
        }

        .nav button:hover {
            background: #ff326c;
        }

        .nome-musica {
            font-size: 14px;
            color: #ff4f8d;
            font-weight: bold;
            margin-top: 5px;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Nosso √Ålbum üíû</h1>
    <h2 style="text-align:center; color:#ff5e8e;">üé∂ Nossas m√∫sicas ü©∑</h2>

    <!-- PLAYER √öNICO (funciona sem bug!) -->
    <div id="carrossel">
        <iframe id="player" style="border-radius:10px"
            width="100%" height="100"
            frameBorder="0"
            allow="autoplay; clipboard-write; encrypted-media; picture-in-picture">
        </iframe>

        <div class="nome-musica" id="nomeMusica"></div>
    </div>

    <div class="nav">
        <button onclick="anterior()">‚üµ anterior</button>
        <button onclick="proximo()">pr√≥ximo ‚ü∂</button>
    </div>

    <script>
        const musicas = [
            {
                nome: "üíó Lisboa ‚Äì Anavit√≥ria",
                link: "https://open.spotify.com/embed/track/2o2xhyri4aJUtgMGkf5P0J?utm_source=generator&theme=0"
            },
            {
                nome: "üíó Alian√ßa ‚Äì Tribalistas",
                link: "https://open.spotify.com/embed/track/1DLKuppSYytOuxhtI6KBGu?utm_source=generator&theme=0"
            },
            {
                nome: "üíó Ela Une Todas as Coisas ‚Äì Jorge Vercilio",
                link: "https://open.spotify.com/embed/track/2fAwUj2Ezq0uB2ClAKEDb1?utm_source=generator&theme=0"
            }
        ];

        let atual = 0;

        const player = document.getElementById("player");
        const nomeMusica = document.getElementById("nomeMusica");

        function carregarMusica() {
            player.src = musicas[atual].link;
            nomeMusica.textContent = musicas[atual].nome;
        }

        function proximo() {
            atual = (atual + 1) % musicas.length;
            carregarMusica();
        }

        function anterior() {
            atual = (atual - 1 + musicas.length) % musicas.length;
            carregarMusica();
        }

        carregarMusica();
    </script>

    <form action="{{ url_for('upload') }}" method="POST" enctype="multipart/form-data">
        <input type="file" name="foto" required>
        <button>Enviar foto ‚ù§Ô∏è</button>
    </form>

    <br>
    <a href="{{ url_for('galeria') }}">Ver o √°lbum üì∑</a>
</div>

</body>
</html>
